Utilizamos VirtualBox para instalar Ubuntu con las siguientes características:

mongo
Linux
Oracle (64-bit)

4MB RAM
60 GB Almacenamiento

4 hilos
80%
Deshabilitar audio
Conectado a NAT
USB X-> NO
CD/DVD vivo para CD's normales

Vamos a trabajar en arquitectura INTEL- X86/X64

Es utilizado para control de misiles, submarina, aviones, etc.

ORACLE LINUX 6
Ctrl-Derecha se sale a WINDOWS
Básico
______

Nombre del host: profe.aula24.pum
paquetes rpm

Comandos necesarios en Linux:
who    -> Cuantas sesiones hay
who -r 
who -m
who am i -> Quien soy
man -> AYUDA
man who
pwd
ls
cd/
/home/   -> Usuarios
/etc/    -> Configuración
/bin     -> Binarios
/sbin    ->    "
/opt/    -> Software de terceros
/usr     -> Librerias y links /módulos
/etc/init.d   -> Script de arranque
/etc/profile
/etc/yum.d    -> Repositorios

ls -l atd
file atd
Ruta relativa ./atd
Ruta absoluta /etc/init.d/atd

cd /root
ls
ls -a ficheros ocultos
ls -l | wc -l  -> Cuenta el nº de lineas

cd /root
ls -lrta

cd /tmp
pwd

mkdir carpeta1
mkdir /tmp/carpeta2
mkdir /tmp/carpeton/lunes
mkdir -p /tmp/carpeton/lunes
touch te crea un fichero vacio
echo "mensajito"> /tmp/ficherin

cat ficherin
mensajito
                  _____________________________________________________________
                  
     stdin      -------->    Kernel        ---------> stdout
                                |
                                |
                              stderr
                              
   echo "hola"> /dev/tty1       -> Devices
                /dev/tty*
                
   rm -rf /tmp/borrando
   cp ficherin /tmp/ficherin2
   
   dd if=/dev/zero of=/tmp/ficheraco bs=1024 count= 100000
   ls -l /tmp/ficheraco
   
        if -> origen
        of -> destino
   du -sh  /tmp/ficheraco
   history > /tmp/loquellevohoy
   cat /tmp/loquellevohoy

   cp /tmp/ficheraco /root
   ___________________________________________________
   cat /etc/passwd | wc -l
   cat /etc/sysctl.conf
   
                              Command line
                              
                          |    |                 |     
                     :q!  |    | vi file         |  wq!
                          |    |                 |
                          
                          Shell linux
   : modo ultima linea
   
   Editor de textos VI
      h - hatras
      j - jabajo
      k - karriba
      l - ladelante
      
   Con escape se va a la posición
   
   Esc
     u -> undo
     y -> hacer yyp
   Esc
     x -> borra un caracter
     dd -> borra una linea
     
   cd /etc
   cp /root/.bash_profile /root/.bash_profile.old
   
   Alt-F2 Ventana 2
   Alt-F1 Ventana 1
   
   who
   who -m
   Cada vez que inicies una sesión teneis un tty
   
   id identificador de usuario
   
   Hacemos un ping a www.google.es
   ifconfig eth0
   Activamos internet -> dhclient eth0
   
   yum -> Gestor de Paquetes de instalación
   yum list | grep -i desktop
   GNOME -> Entorno gráfico
   KDE   ->    "       "
   yum install gnome-desktop.x86_64
                 "      "   .i686
   
   reboot
   
   Linux es Multiusuario, Multitarea y Multihilo
   
   su -> superusuario
   who nos muestra por pantalla lo siguiente:
     pepito  tty3   2020-01-20
     root    tty1   2020-01-20
     root    tty2   2020-01-20 
  
   su -root  -> Cargar el perfil de root
   sudo para pasarse como otro usuario
   
   usermod -u 501 pepito
   
   tar -> Empaquetador
   unzip -> Compresor
   which zip
   which jar
   which tar
   
   Cuando compartes algo con TCP/IP se pierden los permisos.
   Se recomienda hacer BACKUP en frio.
   Parar la Base de Datos y hacerlo en una terminal
   
   tar cvf  /home/pepito/empaquetado.tar  /tmp/valencia
   
       c de compress
       v de verbose
       f de fichero
       
   tmp/valencia
          /___
          /___
          /___
        
        ||      metadata (permisos, fecha I-Nodos)
                         (bloques)
   empaquetado tar
   
   Para restaurar con la x
                    ________________________________________
   gzip /home/pepito/empaquetado.tar
   ls -l /home/pepito/empaquetado.tar.gz
   du -sh /home/pepito/empaquetado.tar.gz
   
   cp /home/pepito/empaquetado.tar.gz /root
   
   tar cvf /home/pepito/empaquetado.tar /tmp/valencia
                    ________________________________________
                    
   cat /etc/initlab
   initdefault => 5
   
   yum groupinstall "Desktop" "Desktop Platform"
                    "General Purpose Desktop"
                    
      1.- dhclient eth0
      2.- yum groupinstall
      3.- cat /etc/initlab
                      initdefault => 5
      4.- reboot
                    ________________________________________
  
   Niveles INIT
   
         SERVER + DESKTOP -> 5
         SERVER           -> 3
         
         single user      -> 5
_____________________________________________

inittab                           /etc/passwd


Crear cuenta de usuario
_______________________

useradd -u 510 -g 10 -d /home/mariano -m -s /bin/bash mariano
En root poner passwd: cangetin para mariano
                                             /etc/group
                                 
cd /etc/skel
ls -l -a                             Nodo 1               Nodo 2
ls -lrta                             ______               ______
                                     |     |              |     |
ssh mariano@localhost                |     |              |     |
                                     |     |__ssh ______> |     |
                                     |     |usuario@nodo2 |     |
                                     ______               ______
                                     
SSH: Secure Shell
ssh mariano@localhost

1. Comprobación llave
2. login / password
     |
     /etc/shadow    es distinto de logout
     
   /etc/profile  (PROFILE GENERAL)
   /home/mariano/.bash_profile
   
cat .bash_profile
__________________________________________
|                                         |
|                                         |
|                                         |
|export PATH                              |       
|PS1 = [\u@\h]\$                          |
|export PS1                               |
__________________________________________
ssh mariano@localhost
[u@h]$
nologin para no utilizar ssh
       _____________________________________________________

usermod -G 20 mariano
usermod -G games mariano
usermod -g games mariano
usermod -g 10 -G games mariano
groups mariano

/etc/group  -> Se encuentran todos los grupos

cat /etc/group

games:x:10

wheel:x:20
          ___________________________________________________
umask = 0022
system-config-users

Te dice las cuentas  que hay creadas
Solamente lo puede lanzar el root
              LESSON 4
              File Systems
              
Tipos de STORAGE
________________
DAS  -> Direct Attach Storage
NAS  -> NetWork Attach Storage
SAN  -> Storage Area Network (Fibra)

|--------------------|
|                    |
|                    |
|  |---|   |---|     |                         |-----------|
|                    |                         |           |
|                    |                         |           | 
|  |---|   |---|     | TCP/IP    (Nivel 3)     |           |
|  |---|   |---|     |<---------------------   |           |
|                    |      FTP                |           |
|  |---|   |---|     |      Samba/SMB          |           |
|  |---|   |---|     |      NFS                |           |
|                    |                         -------------
|--------------------|


NIVELES DE LA TORRE OSI: Son 7 niveles

APLICACIÓN
PRESENTACIÓN
SESIÓN
TRANSPORTE
RED                     IP  Fabricacion - Hostid
ENLACE                  MAC: Medium Access Control
FISICO                  eth0 -> Ethernet -> udev
                    
SAN (Redes de fibra)

Cabina de discos  
___________________________
|                          |         
|                          |  SAN 
|__________________________|
